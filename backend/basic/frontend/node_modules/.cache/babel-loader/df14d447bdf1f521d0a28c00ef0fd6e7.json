{"remainingRequest":"C:\\Users\\Анна Немшилова\\Documents\\4 курс\\web_project\\web_project\\backend\\basic\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Анна Немшилова\\Documents\\4 курс\\web_project\\web_project\\backend\\basic\\frontend\\src\\components\\cart\\cart.js","dependencies":[{"path":"C:\\Users\\Анна Немшилова\\Documents\\4 курс\\web_project\\web_project\\backend\\basic\\frontend\\src\\components\\cart\\cart.js","mtime":1608327394968},{"path":"C:\\Users\\Анна Немшилова\\Documents\\4 курс\\web_project\\web_project\\backend\\basic\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Анна Немшилова\\Documents\\4 курс\\web_project\\web_project\\backend\\basic\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKZXhwb3J0IGRlZmF1bHQgewogIHByb2R1Y3RzOiBbXSwKICBjb3VudDogMCwKICB0b3RhbDogMC4wLAogIGFkZDogZnVuY3Rpb24gYWRkKGl0ZW0pIHsKICAgIHRoaXMubG9hZCgpOwogICAgY29uc29sZS5sb2coaXRlbSk7CiAgICB0aGlzLnByb2R1Y3RzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGkpIHsKICAgICAgY29uc29sZS5sb2coaSArICI6ICIgKyBpdGVtLm5hbWUpOwogICAgfSk7CiAgICBjb25zb2xlLmxvZygiLS0tLS0tLS0tIik7CiAgICB0aGlzLnByb2R1Y3RzLnB1c2goaXRlbSk7CiAgICB0aGlzLnByb2R1Y3RzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGkpIHsKICAgICAgY29uc29sZS5sb2coaSArICI6ICIgKyBpdGVtLm5hbWUpOwogICAgfSk7CiAgICBjb25zb2xlLmxvZygiLS0tLS0tLS0tIik7CiAgICB0aGlzLmNvdW50Kys7CiAgICB0aGlzLnRvdGFsICs9IE51bWJlcihpdGVtLnByaWNlKTsKICAgIHRoaXMuc2F2ZSgpOwogIH0sCiAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoaXRlbSkgewogICAgdGhpcy5sb2FkKCk7CiAgICB2YXIgaW5kZXggPSB0aGlzLnByb2R1Y3RzLm1hcChmdW5jdGlvbiAoZWwpIHsKICAgICAgcmV0dXJuIGVsLmlkOwogICAgfSkuaW5kZXhPZihpdGVtLmlkKTsKICAgIHRoaXMucHJvZHVjdHMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaSkgewogICAgICBjb25zb2xlLmxvZyhpICsgIjogIiArIGl0ZW0ubmFtZSk7CiAgICB9KTsKICAgIGNvbnNvbGUubG9nKCItLS0tLS0tLS0iKTsKICAgIHRoaXMucHJvZHVjdHMuc3BsaWNlKGluZGV4LCAxKTsKICAgIHRoaXMuY291bnQtLTsKICAgIHRoaXMudG90YWwgLT0gTnVtYmVyKGl0ZW0ucHJpY2UpOwogICAgdGhpcy5zYXZlKCk7CiAgICB0aGlzLnByb2R1Y3RzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGkpIHsKICAgICAgY29uc29sZS5sb2coaSArICI6ICIgKyBpdGVtLm5hbWUpOwogICAgfSk7CiAgICBjb25zb2xlLmxvZygiLS0tLS0tLS0tIik7CiAgfSwKICBsb2FkOiBmdW5jdGlvbiBsb2FkKCkgewogICAgdmFyIGRhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2FydCcpOwoKICAgIGlmIChkYXRhICE9PSBudWxsKSB7CiAgICAgIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpOwogICAgICB0aGlzLnByb2R1Y3RzID0gZGF0YS5wcm9kdWN0czsKICAgICAgdGhpcy5jb3VudCA9IGRhdGEuY291bnQ7CiAgICAgIHRoaXMudG90YWwgPSBkYXRhLnRvdGFsOwogICAgfQogIH0sCiAgc2F2ZTogZnVuY3Rpb24gc2F2ZSgpIHsKICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjYXJ0JywgSlNPTi5zdHJpbmdpZnkoewogICAgICBwcm9kdWN0czogdGhpcy5wcm9kdWN0cywKICAgICAgY291bnQ6IHRoaXMuY291bnQsCiAgICAgIHRvdGFsOiB0aGlzLnRvdGFsCiAgICB9KSk7CiAgfQp9Ow=="},{"version":3,"sources":["C:/Users/Анна Немшилова/Documents/4 курс/web_project/web_project/backend/basic/frontend/src/components/cart/cart.js"],"names":["products","count","total","add","item","load","console","log","forEach","i","name","push","Number","price","save","remove","index","map","el","id","indexOf","splice","data","localStorage","getItem","JSON","parse","setItem","stringify"],"mappings":";;;;;;;AAAA,eAAe;AACXA,EAAAA,QAAQ,EAAE,EADC;AAEXC,EAAAA,KAAK,EAAE,CAFI;AAGXC,EAAAA,KAAK,EAAE,GAHI;AAIXC,EAAAA,GAJW,eAIPC,IAJO,EAID;AACN,SAAKC,IAAL;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACA,SAAKJ,QAAL,CAAcQ,OAAd,CAAsB,UAASJ,IAAT,EAAeK,CAAf,EAAkB;AACpCH,MAAAA,OAAO,CAACC,GAAR,CAAaE,CAAC,GAAG,IAAJ,GAAWL,IAAI,CAACM,IAA7B;AACH,KAFD;AAGAJ,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACA,SAAKP,QAAL,CAAcW,IAAd,CAAmBP,IAAnB;AACA,SAAKJ,QAAL,CAAcQ,OAAd,CAAsB,UAASJ,IAAT,EAAeK,CAAf,EAAkB;AACpCH,MAAAA,OAAO,CAACC,GAAR,CAAaE,CAAC,GAAG,IAAJ,GAAWL,IAAI,CAACM,IAA7B;AACH,KAFD;AAGAJ,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACA,SAAKN,KAAL;AACA,SAAKC,KAAL,IAAcU,MAAM,CAACR,IAAI,CAACS,KAAN,CAApB;AACA,SAAKC,IAAL;AACH,GAnBU;AAoBXC,EAAAA,MApBW,kBAoBJX,IApBI,EAoBE;AACT,SAAKC,IAAL;AACA,QAAMW,KAAK,GAAG,KAAKhB,QAAL,CAAciB,GAAd,CAAkB,UAACC,EAAD,EAAQ;AACpC,aAAOA,EAAE,CAACC,EAAV;AACH,KAFa,EAEXC,OAFW,CAEHhB,IAAI,CAACe,EAFF,CAAd;AAIA,SAAKnB,QAAL,CAAcQ,OAAd,CAAsB,UAASJ,IAAT,EAAeK,CAAf,EAAkB;AACpCH,MAAAA,OAAO,CAACC,GAAR,CAAaE,CAAC,GAAG,IAAJ,GAAWL,IAAI,CAACM,IAA7B;AACH,KAFD;AAGAJ,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACA,SAAKP,QAAL,CAAcqB,MAAd,CAAqBL,KAArB,EAA4B,CAA5B;AACA,SAAKf,KAAL;AACA,SAAKC,KAAL,IAAcU,MAAM,CAACR,IAAI,CAACS,KAAN,CAApB;AACA,SAAKC,IAAL;AACA,SAAKd,QAAL,CAAcQ,OAAd,CAAsB,UAASJ,IAAT,EAAeK,CAAf,EAAkB;AACpCH,MAAAA,OAAO,CAACC,GAAR,CAAaE,CAAC,GAAG,IAAJ,GAAWL,IAAI,CAACM,IAA7B;AACH,KAFD;AAGAJ,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACH,GAtCU;AAuCXF,EAAAA,IAvCW,kBAuCJ;AACH,QAAIiB,IAAI,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX;;AACA,QAAIF,IAAI,KAAK,IAAb,EAAmB;AACfA,MAAAA,IAAI,GAAGG,IAAI,CAACC,KAAL,CAAWJ,IAAX,CAAP;AACA,WAAKtB,QAAL,GAAgBsB,IAAI,CAACtB,QAArB;AACA,WAAKC,KAAL,GAAaqB,IAAI,CAACrB,KAAlB;AACA,WAAKC,KAAL,GAAaoB,IAAI,CAACpB,KAAlB;AACH;AACJ,GA/CU;AAgDXY,EAAAA,IAhDW,kBAgDJ;AACHS,IAAAA,YAAY,CAACI,OAAb,CAAqB,MAArB,EAA6BF,IAAI,CAACG,SAAL,CAAe;AACxC5B,MAAAA,QAAQ,EAAE,KAAKA,QADyB;AAExCC,MAAAA,KAAK,EAAE,KAAKA,KAF4B;AAGxCC,MAAAA,KAAK,EAAE,KAAKA;AAH4B,KAAf,CAA7B;AAKH;AAtDU,CAAf","sourcesContent":["export default {\r\n    products: [],\r\n    count: 0,\r\n    total: 0.0,\r\n    add(item) {\r\n        this.load()\r\n        console.log(item)\r\n        this.products.forEach(function(item, i) {\r\n            console.log( i + \": \" + item.name )\r\n        });\r\n        console.log(\"---------\")\r\n        this.products.push(item)\r\n        this.products.forEach(function(item, i) {\r\n            console.log( i + \": \" + item.name )\r\n        });\r\n        console.log(\"---------\")\r\n        this.count++\r\n        this.total += Number(item.price)\r\n        this.save()\r\n    },\r\n    remove(item) {\r\n        this.load()\r\n        const index = this.products.map((el) => {\r\n            return el.id\r\n        }).indexOf(item.id)\r\n\r\n        this.products.forEach(function(item, i) {\r\n            console.log( i + \": \" + item.name )\r\n        });\r\n        console.log(\"---------\")\r\n        this.products.splice(index, 1)\r\n        this.count--\r\n        this.total -= Number(item.price)\r\n        this.save()\r\n        this.products.forEach(function(item, i) {\r\n            console.log( i + \": \" + item.name )\r\n        });\r\n        console.log(\"---------\")\r\n    },\r\n    load() {\r\n        let data = localStorage.getItem('cart')\r\n        if (data !== null) {\r\n            data = JSON.parse(data)\r\n            this.products = data.products\r\n            this.count = data.count\r\n            this.total = data.total\r\n        }\r\n    },\r\n    save() {\r\n        localStorage.setItem('cart', JSON.stringify({\r\n            products: this.products,\r\n            count: this.count,\r\n            total: this.total,\r\n        }))\r\n    }\r\n}"]}]}